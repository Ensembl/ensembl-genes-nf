//process {
        //withName:fetchGenome {
        //executor = 'LSF'
        //queue = 'datamover'
        //}
        //maxForks = 300	
//	executor = 'LSF'
//	queue = 'production'
//	scratch = '/nfs/production/flicek/ensembl/genebuild/ftricomi/next_flow'
//}

profiles {

  standard {
    process.executor = 'LSF'
    process.queue = 'production'
    singularity.enabled = true
  }

  cluster {
    process.executor = 'slurm'
    process.queue = 'standard'
    singularity.enabled = true
  }

  slurm {
        process {
            executor = 'slurm'
            queue = 'standard'
            perJobMemLimit = true
            errorStrategy = { task.exitStatus == 140 ? 'retry' : 'terminate' }
            maxRetries = 3
            clusterOptions = '-t 24:00:00 -e errlog.txt'
            withLabel: 'default' {
                cpus = 1
                memory = { 30.GB * task.attempt }
                time = { 1.h * task.attempt }
            }
        }
        singularity.enabled = true
    }
}




//singularity {
//    enabled = true
//}
scratch = '/nfs/production/flicek/ensembl/genebuild/ftricomi/next_flow'
workDir = '/nfs/production/flicek/ensembl/genebuild/ftricomi/nextflow/work'
